/**
 * Mapeo de c√≥digos de barras (UPC/EAN) a monster_id.
 * Normalizamos quitando ceros a la izquierda para comparar.
 * Fuentes: upcitemdb.com, Open Food Facts, variantes regionales.
 */
const RAW_MAP: Record<string, string> = {
  // Ultra Zero White
  '70847012474': 'ultra-zero-white',
  '70847021964': 'ultra-zero-white',
  '90030376541': 'ultra-zero-white',
  '3498453': 'ultra-zero-white',
  '3675930': 'ultra-zero-white',
  '4897036692974': 'ultra-zero-white',
  '5060517883836': 'ultra-zero-white',
  '5060896626406': 'ultra-zero-white',
  '9342866000482': 'ultra-zero-white',
  // Original Green (OG)
  '70847811169': 'original-green',
  '7798422620199': 'original-green',
  '5060335632302': 'original-green',
  '4897036691427': 'original-green',
  '5060166690380': 'original-green',
  '5060166690007': 'original-green',
  '5060335635228': 'original-green',
  '5060335634184': 'original-green',
  '5060166690144': 'original-green',
  '5060166693534': 'original-green',
  '5940568000003': 'original-green',
  '5060947543089': 'original-green',
  '5060896621913': 'original-green',
  '5061013949644': 'original-green',
  '5060896621807': 'original-green',
  '70847811190': 'original-green',
  '7064766690380': 'original-green',
  '5060166694777': 'original-green',
  '70847009511': 'original-green',
  '4897036690017': 'original-green',
  '5060335634429': 'original-green',
  '5060335634306': 'original-green',
  '5061013946001': 'original-green',
  '5060337502900': 'original-green',
  // Ultra Blue Hawaiian
  '70847016205': 'ultra-blue-hawaiian',
  '70847898245': 'ultra-blue-hawaiian',
  // Classic Zero Sugar
  '70847000037': 'classic-zero-sugar',
  '70847000044': 'classic-zero-sugar',
  '7798422620137': 'classic-zero-sugar',
  '5060947549487': 'classic-zero-sugar',
  '5060947549555': 'classic-zero-sugar',
  '5060947549043': 'classic-zero-sugar',
  '5061013940566': 'classic-zero-sugar',
  '5061013940108': 'classic-zero-sugar',
  '5060947549883': 'classic-zero-sugar',
  '5060947549852': 'classic-zero-sugar',
  '5060947549715': 'classic-zero-sugar',
  // Mango Loco
  '70847029014': 'mango-loco',
  '70847029007': 'mango-loco',
  '70847035800': 'mango-loco',
  '54904132626': 'mango-loco',
  '70847029724': 'mango-loco',
  '70847033301': 'mango-loco',
  '70847033318': 'mango-loco',
  '70847033967': 'mango-loco',
  '70847038672': 'mango-loco',
  '70847038702': 'mango-loco',
  '70847038764': 'mango-loco',
  '70847038979': 'mango-loco',
  '70847892380': 'mango-loco',
  '70847892830': 'mango-loco',
  '70847893110': 'mango-loco',
  '559404944064': 'mango-loco',
  '618056630852': 'mango-loco',
  '708470333016': 'mango-loco',
  '10640637': 'mango-loco',
  '2440939121854': 'mango-loco',
  '4897036692325': 'mango-loco',
  '4897036693162': 'mango-loco',
  '4897036693339': 'mango-loco',
  '4897036693407': 'mango-loco',
  '4897036694305': 'mango-loco',
  '5056784900031': 'mango-loco',
  '5056784902455': 'mango-loco',
  '5056784906569': 'mango-loco',
  '5060517763633': 'mango-loco',
  '5060517883683': 'mango-loco',
  '5060517885137': 'mango-loco',
  '5060517886035': 'mango-loco',
  '5060517888510': 'mango-loco',
  '5060517889852': 'mango-loco',
  '5060517889906': 'mango-loco',
  '5060517889937': 'mango-loco',
  '5060639120970': 'mango-loco',
  '5060639121618': 'mango-loco',
  '5060639121731': 'mango-loco',
  '5060639121762': 'mango-loco',
  '5060639121779': 'mango-loco',
  '5060639121854': 'mango-loco',
  '5060639121885': 'mango-loco',
  '5060639121915': 'mango-loco',
  '5060639123520': 'mango-loco',
  '5060639127078': 'mango-loco',
  '5060639127498': 'mango-loco',
  '5060639128396': 'mango-loco',
  '5060639128518': 'mango-loco',
  '5060639128815': 'mango-loco',
  '5060751212065': 'mango-loco',
  '5060751213130': 'mango-loco',
  '5060751215691': 'mango-loco',
  '5060751218128': 'mango-loco',
  '5060896622002': 'mango-loco',
  '5060896623214': 'mango-loco',
  '5060896623924': 'mango-loco',
  '5060896625126': 'mango-loco',
  '5060947543171': 'mango-loco',
  '5060947546059': 'mango-loco',
  '5060947546493': 'mango-loco',
  '5060947547131': 'mango-loco',
  '5061013942454': 'mango-loco',
  '5061013942485': 'mango-loco',
  '5061013944434': 'mango-loco',
  '5425021588538': 'mango-loco',
  '56503067': 'mango-loco',
  '5940568000096': 'mango-loco',
  '7798422620045': 'mango-loco',
  '7898938890007': 'mango-loco',
  '9342866000642': 'mango-loco',
  '9342866000796': 'mango-loco',
  // Aussie Lemonade
  '5060947548602': 'aussie-lemonade',
  '70847890607': 'aussie-lemonade',
  '70847896562': 'aussie-lemonade',
  '4897036694817': 'aussie-lemonade',
  '5056784903322': 'aussie-lemonade',
  '5060947540002': 'aussie-lemonade',
  '5060947540408': 'aussie-lemonade',
  '5060947541986': 'aussie-lemonade',
  '5060947542303': 'aussie-lemonade',
  '5060947542921': 'aussie-lemonade',
  '5060947542952': 'aussie-lemonade',
  '5060947542983': 'aussie-lemonade',
  '5060947542990': 'aussie-lemonade',
  '5060947544604': 'aussie-lemonade',
  '5060947545489': 'aussie-lemonade',
  '5061013940597': 'aussie-lemonade',
  '5061013941457': 'aussie-lemonade',
  '5061013941488': 'aussie-lemonade',
  '5061013942829': 'aussie-lemonade',
  '5061013943970': 'aussie-lemonade',
  '5061013944007': 'aussie-lemonade',
  '5061013944991': 'aussie-lemonade',
  '5061013947312': 'aussie-lemonade',
  '5061013949736': 'aussie-lemonade',
  '5061013949767': 'aussie-lemonade',
  '5940568000188': 'aussie-lemonade',
  '9342866001458': 'aussie-lemonade',
  '9342866001472': 'aussie-lemonade',
};

function normalizeBarcode(data: string): string {
  return data.replace(/^0+/, '') || data;
}

export function barcodeToMonsterId(data: string): string | null {
  const normalized = normalizeBarcode(data);
  return RAW_MAP[normalized] ?? RAW_MAP[data] ?? null;
}
